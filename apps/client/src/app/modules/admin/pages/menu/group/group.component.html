<div [formGroup]="form">
  <div class="options">
    <input pInputText type="text" placeholder="Nombre" formControlName="name" />
    <p-checkbox
      label="Activado"
      [binary]="true"
      [formControl]="$any(form.get('active'))"
    ></p-checkbox>
    <button pButton class="left" (click)="onSave()">Guardar</button>
  </div>

  <div class="groups" formArrayName="sections">
    <div
      class="group"
      *ngFor="let sectionsForm of sectionsForm.controls; let i = index"
      [formGroupName]="i"
    >
      <input
        type="text"
        formControlName="name"
        pInputText
        placeholder="Nombre de la secciÃ³n"
      />
      <p-dropdown
        [options]="sections"
        optionLabel="name"
        optionValue="id"
        placeholder="Selecciona una secciÃ³n"
        formControlName="sectionId"
        (onChange)="onSectionChange($event.value, i)"
      ></p-dropdown>
      <p-inputNumber
        formControlName="maxProducts"
        [min]="0"
        [showButtons]="true"
        buttonLayout="horizontal"
        spinnerMode="horizontal"
        decrementButtonClass="p-button-danger"
        incrementButtonClass="p-button-success"
        incrementButtonIcon="pi pi-plus"
        decrementButtonIcon="pi pi-minus"
      ></p-inputNumber>
    </div>
    <div class="add" (click)="onAdd()">
      <i class="pi pi-plus"></i>
    </div>
  </div>
</div>
